local wezterm = require 'wezterm'

local config = wezterm.config_builder()
-- config.color_scheme = 'Solarized Dark Higher Contrast'
config.color_scheme = 'Night Owl (Gogh)'
config.font = wezterm.font('CaskaydiaCove NF')
config.initial_cols = 150
config.initial_rows = 40
config.font_size = 10

local launch_menu = {}

{{ if eq .chezmoi.os "windows" }}
config.default_prog = { 'pwsh.exe', '-NoLogo' }

table.insert(launch_menu, {
  label = 'PowerShell',
  args = { 'pwsh.exe', '-NoLogo' },
})
{{ end }}

{{ if eq .chezmoi.fqdnHostname "steamdeck" }}
config.default_prog = { '/usr/bin/zsh' }
{{ end }}

config.launch_menu = launch_menu
config.adjust_window_size_when_changing_font_size = false
config.disable_default_key_bindings = true
config.keys = {
  {
    key = '[',
    mods = 'SUPER|CTRL',
    action = wezterm.action.ActivateTabRelative(-1),
  },
  {
    key = ']',
    mods = 'SUPER|CTRL',
    action = wezterm.action.ActivateTabRelative(1),
  },
  {
    key = '-',
    mods = 'SUPER|CTRL',
    action = wezterm.action.DecreaseFontSize,
  },
  {
    key = '=',
    mods = 'SUPER|CTRL',
    action = wezterm.action.IncreaseFontSize,
  },
  {
    key = '=',
    mods = 'SUPER|ALT|CTRL',
    action = wezterm.action.ResetFontSize,
  },
}

return config
